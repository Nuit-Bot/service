<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Constructeur de messages</title>
    <link rel="stylesheet" href="messages.css">
</head>

<body>

    <div class="container" id="embeds-container" data-server-id="__SERVER_ID__">
        <!-- panneau éditeur -->
        <div class="editor-pane" id="editor-container">
            <div class="message-send">
                <h2>Envoyer le message</h2>
                <div class="form-group">
                    <div style="flex: 1; display: flex; flex-direction: column; gap: 6px;">
                        <label>Salon</label>
                        <select name="message-send-channel" id="message-send-channel">
                            <option value="none">-- Pas de salon sélectionné --</option>
                        </select>
                    </div>
                    <button id="message-send-btn" class="btn btn-primary" disabled>Envoyer</button>
                </div>
            </div>

            <!-- bloc contenu du message -->
            <div class="message-content-editor">
                <h2>Contenu du message</h2>
                <div class="form-group">
                    <label>Contenu</label>
                    <textarea id="input-content" rows="4" placeholder="Corps du message..."></textarea>
                </div>
            </div>

            <!-- les éditeurs d'embed dynamiques seront injectés ici -->
            <div id="embeds-list" style="display: flex; flex-direction: column; gap: 20px;"></div>

            <!-- bouton ajouter -->
            <div class="actions">
                <button class="btn btn-primary" onclick="addEmbed()">+ Ajouter un Embed</button>
            </div>

        </div>

        <!-- panneau aperçu -->
        <div class="preview-pane">
            <div class="message-group">
                <div class="avatar">
                    <img src="https://cdn.discordapp.com/embed/avatars/0.png" alt="Bot Avatar">
                </div>
                <div class="message-content">
                    <div class="message-header">
                        <span class="username">Nuit</span>
                        <span id="msg-timestamp" class="timestamp">Aujourd'hui à --:--</span>
                    </div>
                    <!-- corps du message -->
                    <div id="preview-content" class="message-body"></div>

                    <!-- conteneur d'embeds -->
                    <div id="preview-embeds-container" class="embed-container">
                        <!-- aperçus d'embed dynamiques -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="messages.js"></script>

</body>

</html>